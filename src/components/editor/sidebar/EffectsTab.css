/* 
 * مسیر: /video-maker-pro/src/components/editor/sidebar/EffectsTab.css
 * ✨ نسخه پیشرفته
 */

/* ============================================================
   Container
   ============================================================ */
.effects-tab { display: flex; flex-direction: column; gap: 0; }

/* ============================================================
   Live Preview
   ============================================================ */
.fx-preview {
  position: relative;
  margin-bottom: 0.875rem;
  height: 70px;
  background: radial-gradient(ellipse at center, rgba(99,102,241,0.15) 0%, rgba(0,0,0,0.5) 70%),
              linear-gradient(135deg, #0f0c29, #302b63);
  border: 1px solid rgba(255,255,255,0.08);
  border-radius: var(--radius-lg);
  display: flex; align-items: center; justify-content: center;
  overflow: hidden;
}

.fx-preview-text {
  font-size: 18px; font-weight: 900; color: white;
  direction: rtl;
  position: relative; z-index: 1;
}

.fx-preview-label {
  position: absolute; bottom: 5px; right: 8px;
  font-size: 0.5625rem; font-weight: 700;
  color: rgba(255,255,255,0.3);
  text-transform: uppercase; letter-spacing: 0.1em;
}

/* ─── Preview Effects ─── */
.fx-preview .glitch-effect { animation: glitch-prev 2s infinite; }
@keyframes glitch-prev {
  0%,88%,100% { transform: translate(0); filter: none; }
  90% { transform: translate(-3px,0); filter: hue-rotate(90deg); }
  92% { transform: translate(3px,0); filter: hue-rotate(-90deg); }
  95% { transform: translate(0,-2px); filter: none; }
}

.fx-preview .neon-effect {
  text-shadow:
    0 0 7px #fff, 0 0 10px #fff,
    0 0 21px var(--primary), 0 0 42px var(--primary);
  animation: neon-prev 2s infinite alternate;
}
@keyframes neon-prev {
  0%,100% { text-shadow: 0 0 7px #fff, 0 0 10px #fff, 0 0 21px var(--primary), 0 0 42px var(--primary); }
  50% { text-shadow: 0 0 4px #fff, 0 0 6px var(--primary); }
}

.fx-preview .outline-effect {
  -webkit-text-stroke: 1.5px white;
  color: transparent !important;
}

/* ============================================================
   Sections
   ============================================================ */
.fx-section {
  border-bottom: 1px solid var(--border-color);
  overflow: hidden;
}

[data-theme="dark"] .fx-section { border-color: rgba(255,255,255,0.07); }
.fx-section:last-child { border-bottom: none; }

.fx-section-header {
  display: flex; align-items: center; justify-content: space-between;
  width: 100%; padding: 0.75rem 0;
  background: transparent; border: none; cursor: pointer;
  color: var(--text-primary);
  font-family: inherit; font-size: 0.8125rem; font-weight: 700;
  text-align: right;
  transition: color 0.18s;
}

[data-theme="dark"] .fx-section-header { color: rgba(255,255,255,0.88); }
.fx-section-header:hover { color: var(--primary); }
.fx-section-header svg { color: var(--text-tertiary); flex-shrink: 0; }

.fx-section-body {
  display: flex; flex-direction: column; gap: 0.5rem;
  padding-bottom: 0.875rem;
}

/* ============================================================
   Setting Items
   ============================================================ */
.setting-item { display: flex; flex-direction: column; gap: 0.375rem; }

.setting-label {
  display: flex; align-items: center; justify-content: space-between;
  font-size: 0.75rem; font-weight: 600;
  color: var(--text-secondary);
}

[data-theme="dark"] .setting-label { color: rgba(255,255,255,0.6); }

.setting-value {
  font-weight: 800;
  color: var(--primary);
  font-size: 0.6875rem;
  min-width: 36px; text-align: right;
}

/* Slider */
.slider {
  width: 100%; height: 4px;
  background: rgba(99,102,241,0.15);
  border-radius: 99px; outline: none;
  -webkit-appearance: none; appearance: none;
  cursor: pointer;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 14px; height: 14px;
  background: linear-gradient(135deg, var(--primary), var(--accent));
  border-radius: 50%; cursor: pointer;
  box-shadow: 0 2px 6px rgba(99,102,241,0.4);
  border: 2px solid white;
  transition: transform 0.15s ease;
}

.slider::-webkit-slider-thumb:hover { transform: scale(1.2); }
.slider::-moz-range-thumb {
  width: 14px; height: 14px;
  background: linear-gradient(135deg, var(--primary), var(--accent));
  border-radius: 50%; border: 2px solid white; cursor: pointer;
}

/* Color picker */
.color-picker {
  width: 100%; height: 32px;
  border: 1px solid var(--border-color); border-radius: var(--radius-md);
  cursor: pointer; background: none; padding: 1px;
}

[data-theme="dark"] .color-picker { border-color: rgba(255,255,255,0.1); }
.color-picker::-webkit-color-swatch-wrapper { padding: 0; }
.color-picker::-webkit-color-swatch { border: none; border-radius: 5px; }

.color-preview {
  width: 20px; height: 20px; border-radius: 5px;
  border: 1.5px solid rgba(255,255,255,0.2);
  flex-shrink: 0;
}

/* Select */
.custom-select {
  width: 100%; height: 34px; padding: 0 0.75rem;
  background: var(--bg-tertiary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-md);
  color: var(--text-primary);
  font-family: inherit; font-size: 0.75rem; font-weight: 600;
  cursor: pointer; appearance: none;
  background-image: url("data:image/svg+xml,%3Csvg width='10' height='6' viewBox='0 0 10 6' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1L5 5L9 1' stroke='%236366f1' stroke-width='1.5' stroke-linecap='round'/%3E%3C/svg%3E");
  background-repeat: no-repeat;
  background-position: left 0.625rem center;
  padding-left: 1.75rem;
  transition: border-color 0.18s;
}

[data-theme="dark"] .custom-select {
  background-color: rgba(255,255,255,0.04);
  border-color: rgba(255,255,255,0.1);
  color: rgba(255,255,255,0.88);
}

.custom-select:focus { outline: none; border-color: rgba(99,102,241,0.45); }

/* ============================================================
   Toggle Cards
   ============================================================ */
.toggle-card {
  background: var(--bg-tertiary);
  border: 1px solid var(--border-color);
  border-radius: var(--radius-md);
  padding: 0.5rem 0.75rem;
  transition: border-color 0.18s, background 0.18s;
}

[data-theme="dark"] .toggle-card { background: rgba(255,255,255,0.03); border-color: rgba(255,255,255,0.07); }
.toggle-card:hover { border-color: rgba(99,102,241,0.3); }

.toggle-label {
  display: flex; align-items: center; justify-content: space-between;
  cursor: pointer; gap: 0.75rem;
}

.toggle-info { display: flex; flex-direction: column; gap: 0.15rem; flex: 1; }

.toggle-name {
  font-size: 0.8125rem; font-weight: 700;
  color: var(--text-primary);
}
[data-theme="dark"] .toggle-name { color: rgba(255,255,255,0.88); }

.toggle-desc {
  font-size: 0.6875rem;
  color: var(--text-tertiary);
}

/* Switch */
.toggle-switch {
  width: 38px; height: 22px; flex-shrink: 0;
  background: rgba(99,102,241,0.15);
  border: 1.5px solid rgba(99,102,241,0.2);
  border-radius: 99px; position: relative;
  transition: all 0.22s ease; cursor: pointer;
  outline: none;
}

.toggle-switch.active {
  background: linear-gradient(135deg, var(--primary), var(--accent));
  border-color: transparent;
  box-shadow: 0 2px 8px rgba(99,102,241,0.4);
}

.toggle-thumb {
  width: 16px; height: 16px;
  background: white; border-radius: 50%;
  position: absolute; top: 1px; left: 1px;
  transition: transform 0.22s ease;
  box-shadow: 0 1px 4px rgba(0,0,0,0.2);
}

.toggle-switch.active .toggle-thumb { transform: translateX(16px); }

.toggle-switch:focus-visible { outline: 2px solid var(--primary); outline-offset: 2px; }

/* ============================================================
   Gradient Grid
   ============================================================ */
.fx-hint {
  font-size: 0.6875rem; color: var(--text-tertiary);
  margin: 0 0 0.5rem;
}

.fx-gradient-grid {
  display: grid; grid-template-columns: repeat(4, 1fr); gap: 0.375rem;
}

.fx-gradient-btn {
  height: 40px; border-radius: var(--radius-md);
  border: 2px solid transparent;
  cursor: pointer; transition: all 0.18s ease;
  position: relative; overflow: hidden;
  display: flex; align-items: flex-end; justify-content: center;
  padding-bottom: 3px;
}

.fx-gradient-btn:hover { transform: scale(1.05); box-shadow: 0 4px 12px rgba(0,0,0,0.3); }

.fx-gradient-btn.active { border-color: white; box-shadow: 0 0 0 2px rgba(255,255,255,0.4); }

.fx-grad-label {
  font-size: 0.5rem; font-weight: 700; color: rgba(255,255,255,0.9);
  text-shadow: 0 1px 4px rgba(0,0,0,0.8);
  letter-spacing: 0.05em;
}

/* ============================================================
   Accessibility
   ============================================================ */
@media (prefers-reduced-motion: reduce) {
  .toggle-switch, .toggle-thumb, .slider::-webkit-slider-thumb { transition: none; }
  .fx-preview .glitch-effect, .fx-preview .neon-effect { animation: none; }
}