/*
 * ูุณุฑ: /video-maker-pro/src/components/editor/TutorialModal.jsx
 * โจ ูุณุฎู ฒ.ฐ - ุขูพุฏุช ฺฉุงูู ุจุง ูฺฺฏโูุง ุฌุฏุฏ
 */

import React, { useState, useEffect } from 'react';
import { motion, AnimatePresence } from 'framer-motion';
import './TutorialModal.css';

const TutorialModal = ({ isOpen, onClose }) => {
  const [currentTab, setCurrentTab] = useState('basics');

  // ุจุณุชู ุจุง Escape
  useEffect(() => {
    const handler = (e) => { if (e.key === 'Escape' && isOpen) onClose(); };
    window.addEventListener('keydown', handler);
    return () => window.removeEventListener('keydown', handler);
  }, [isOpen, onClose]);

  const tabs = [
    { id: 'basics',    label: 'ูุจุงู',   icon: '๐ฌ' },
    { id: 'shortcuts', label: 'ฺฉูุฏูุง',  icon: 'โจ๏ธ' },
    { id: 'effects',   label: 'ุงูฺฉุชโูุง', icon: 'โจ' },
    { id: 'tips',      label: 'ูฺฉุงุช',    icon: '๐ก' },
  ];

  const content = {
    basics: {
      title: 'ูุญูู ฺฉุงุฑ ุจุง ุงุฏุชูุฑ',
      sections: [
        {
          title: '๐ ุงุถุงูู ฺฉุฑุฏู ูุชู',
          steps: [
            'ุงุฒ ุชุจ ยซูุฑุงุดฺฏุฑยป ุฑู "+ ุงูุฒูุฏู ุตุญูู" ฺฉูฺฉ ฺฉูุฏ',
            'ุนููุงู ุตุญูู ู ูุชู ุฑุง ูุงุฑุฏ ฺฉูุฏ โ ูุฑ ุตุญูู ูโุชูุงูุฏ ุนููุงู ุฌุฏุงฺฏุงูู ุฏุงุดุชู ุจุงุดุฏ',
            'ุฑู ุขฺฉูู โ ุจฺฉุดุฏ ุชุง ุชุฑุชุจ ุตุญููโูุง ุฑุง ุชุบุฑ ุฏูุฏ (Drag & Drop)',
            'ุจุง Ctrl+Click ฺูุฏ ุตุญูู ุฑุง ููุฒูุงู ุงูุชุฎุงุจ ู ุญุฐู ฺฉูุฏ',
            'ุจุง Ctrl+C ฺฉ ุตุญูู ุฑุง ฺฉูพ ู ุจุง Ctrl+V ุจฺุณุจุงูุฏ',
          ],
        },
        {
          title: '๐ต ูุงุฑุฏ ฺฉุฑุฏู ูุชู ุขููฺฏ',
          steps: [
            'ุฏุฑ ุชุจ ูุฑุงุดฺฏุฑุ ุฑู ุขฺฉูู ุขูพููุฏ (โ) ฺฉูฺฉ ฺฉูุฏ',
            'ูุงูโูุง .txtุ .lrc ุง .srt ุฑุง ุขูพููุฏ ฺฉูุฏ ุง ูุชู ุฑุง ูุณุชูู ุจููุณุฏ',
            'ุจูุฏ ุจู ุจูุฏ ุง ุฎุท ุจู ุฎุท ุชูุณู ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ',
            'ูพุดโููุงุด ุตุญููโูุง ุฑุง ูุจู ุงุฒ ุงุถุงูู ฺฉุฑุฏู ุจุจูุฏ',
            'ูุชุฌู ุฑุง ยซุฌุงฺฏุฒูยป ููู ุตุญููโูุง ฺฉูุฏ ุง ุจู ุงูุชูุง ยซุงุถุงููยป ฺฉูุฏ',
          ],
        },
        {
          title: '๐ผ๏ธ ุงุถุงูู ฺฉุฑุฏู ูพุณโุฒููู',
          steps: [
            'ุจู ุชุจ ยซูุฏุงยป ุจุฑูุฏ ู ุชุตูุฑ ุง ูุฏู ุขูพููุฏ ฺฉูุฏ',
            'ุงูพุณุชุ ุจููุฑ ู ุงูุฏุงุฒู ูพุณโุฒููู ุฑุง ุชูุธู ฺฉูุฏ',
            'Ken Burns ุฑุง ูุนุงู ฺฉูุฏ ุชุง ุชุตูุฑ ุขุฑุงู ุญุฑฺฉุช ฺฉูุฏ',
            'ุจุฏูู ุชุตูุฑ: ุงุฒ ฺฏุฑุงุฏุงูุชโูุง ุขูุงุฏู ุฏุฑ ุชุจ ยซุงูฺฉุชโูุงยป ุงุณุชูุงุฏู ฺฉูุฏ',
          ],
        },
        {
          title: '๐ต ุงุถุงูู ฺฉุฑุฏู ููุฒฺฉ',
          steps: [
            'ุฏุฑ ุชุจ ยซูุฏุงยป ูุงู ุตูุช (MP3ุ WAV) ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ',
            'ุดฺฉู ููุฌ (Waveform) ููุฒฺฉ ููุงุด ุฏุงุฏู ูโุดูุฏ',
            'ุจุง Space ููุฒฺฉ ููุฒูุงู ุจุง ูพุฎุด ุตุญููโูุง ุดุฑูุน ูโุดูุฏ',
            'ุจุง ฺฉูุฏ M ุตุฏุง ุฑุง ูุทุน/ูุตู ฺฉูุฏ',
          ],
        },
        {
          title: 'โฉ๏ธ Undo / Redo',
          steps: [
            'Ctrl+Z ุจุฑุง ุจุงุฒฺฏุดุช โ ุชุง ตฐ ูุฑุญูู ุชุงุฑุฎฺู ุญูุธ ูโุดูุฏ',
            'Ctrl+Y ุง Ctrl+Shift+Z ุจุฑุง ุชฺฉุฑุงุฑ ุนููุงุช',
            'ุฏฺฉููโูุง ูุงฺฏุฑุฏ/ุชฺฉุฑุงุฑ ุฏุฑ ุจุงูุง ุชุจ ูุฑุงุดฺฏุฑ ู ุฎุท ุฒูุงู ูุณุชูุฏ',
            'ูุฑ ุงุถุงููุ ุญุฐู ุง ุฌุงุจุฌุง ุตุญูู ุจู ุตูุฑุช ุฌุฏุงฺฏุงูู ุฐุฎุฑู ูโุดูุฏ',
          ],
        },
        {
          title: '๐ฌ ุฎุฑูุฌ ูุฏู',
          steps: [
            'ุฏฺฉูู ยซExportยป ุฑุง ุฏุฑ ููุงุฑ ุจุงูุง ุจุฒูุฏ',
            'ฺฉูุช ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ: โก ุณุฑุนุ ๐ฌ HDุ โจ Full HDุ ุง ๐ 4K',
            'ูุฑูุช WebM ุง MP4 ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ',
            'ุฑู ยซุดุฑูุน ุถุจุทยป ฺฉูฺฉ ฺฉูุฏ โ ุดูุงุฑุด ูุนฺฉูุณ ณุฒุฑ ุดุฑูุน ูโุดูุฏ',
            'ูพุฑูฺู ุฑุง ุจุง ูุฑูุช JSON ุฐุฎุฑู ู ุฏุฑ ุขูุฏู ุงุฏุงูู ุฏูุฏ',
          ],
        },
      ],
    },

    shortcuts: {
      title: 'ฺฉูุฏูุง ูุงูุจุฑ',
      sections: [
        {
          title: 'โฏ๏ธ ฺฉูุชุฑู ูพุฎุด',
          shortcuts: [
            { key: 'Space',         desc: 'ูพุฎุด / ุชููู (ููุฑุงู ุจุง ููุฒฺฉ)' },
            { key: 'โ',             desc: 'ุตุญูู ุจุนุฏ' },
            { key: 'โ',             desc: 'ุตุญูู ูุจู' },
            { key: 'โ',             desc: 'ุงูุฒุงุด ุณุฑุนุช ูพุฎุด (ฐ.ฒตร)' },
            { key: 'โ',             desc: 'ฺฉุงูุด ุณุฑุนุช ูพุฎุด (ฐ.ฒตร)' },
            { key: 'R',             desc: 'ุดุฑูุน ุงุฒ ุงูู' },
            { key: 'F',             desc: 'ุชูุงูโุตูุญู / ุฎุฑูุฌ' },
            { key: 'M',             desc: 'ูุทุน / ูุตู ุตุฏุง' },
          ],
        },
        {
          title: '๐ฏ ูุงูุจุฑ',
          shortcuts: [
            { key: 'Home',          desc: 'ุฑูุชู ุจู ุงููู ุตุญูู' },
            { key: 'End',           desc: 'ุฑูุชู ุจู ุขุฎุฑู ุตุญูู' },
            { key: '1 โ 9',         desc: 'ุฑูุชู ูุณุชูู ุจู ุตุญูู ุดูุงุฑู N' },
          ],
        },
        {
          title: 'โ๏ธ ูุฑุงุด ุตุญููโูุง',
          shortcuts: [
            { key: 'Ctrl + Z',      desc: 'ูุงฺฏุฑุฏ โ Undo (ุชุง ตฐ ูุฑุญูู)' },
            { key: 'Ctrl + Y',      desc: 'ุชฺฉุฑุงุฑ โ Redo' },
            { key: 'Ctrl + C',      desc: 'ฺฉูพ ุตุญูู ุงูุชุฎุงุจโุดุฏู' },
            { key: 'Ctrl + V',      desc: 'ฺุณุจุงูุฏู ุตุญูู ฺฉูพโุดุฏู' },
            { key: 'Ctrl + A',      desc: 'ุงูุชุฎุงุจ ููู ุตุญููโูุง' },
            { key: 'Ctrl + Click',  desc: 'ุงูุชุฎุงุจ ฺูุฏุชุง ุตุญูู' },
            { key: 'Delete',        desc: 'ุญุฐู ุตุญููโูุง ุงูุชุฎุงุจโุดุฏู' },
            { key: 'Escape',        desc: 'ูุบู ุงูุชุฎุงุจ' },
          ],
        },
        {
          title: '๐ค ููุด ูุตููุน',
          shortcuts: [
            { key: 'Ctrl + Enter',  desc: 'ุงุฑุณุงู prompt ุจู AI (ุฏุงุฎู textarea)' },
          ],
        },
        {
          title: '๐พ ุนููู',
          shortcuts: [
            { key: 'Ctrl + S',      desc: 'ุฐุฎุฑู ูพุฑูฺู' },
            { key: '?',             desc: 'ููุงุด ุงู ุฑุงูููุง' },
            { key: 'Escape',        desc: 'ุจุณุชู ูพูุฌุฑูโูุง ุจุงุฒ' },
          ],
        },
      ],
    },

    effects: {
      title: 'ุฑุงูููุง ุงูฺฉุชโูุง',
      sections: [
        {
          title: '๐ ุชุฑุงูุฒุดูโูุง (ธ ููุน)',
          effects: [
            { icon: '๐ซ๏ธ', name: 'ูุญู (Fade)',     desc: 'ุงูุชูุงู ูุฑู ู ูุญู โ ููุงุณุจ ุจุฑุง ููู ุณุจฺฉโูุง' },
            { icon: 'โก๏ธ', name: 'ุงุณูุงุฏ',         desc: 'ูุบุฒุด ุงูู ุงุฒ ุฑุงุณุช ุจู ฺูพ' },
            { icon: '๐', name: 'ุฒูู',             desc: 'ุจุฒุฑฺฏ ู ฺฉูฺฺฉ ุดุฏู ุตุญูู' },
            { icon: '๐', name: 'ฺุฑุฎุด (Flip)',    desc: 'ฺุฑุฎุด ุณูโุจุนุฏ ุฑู ูุญูุฑ Y' },
            { icon: '๐จ', name: 'ุชุงุฑ (Blur)',      desc: 'ูุญู ุดุฏู ู ุจุงุฒ ุดุฏู ููฺฉูุณ' },
            { icon: 'โฌ๏ธ', name: 'ุจุงูุง ุขูุฏู',     desc: 'ุตุญูู ุงุฒ ูพุงู ุจุงูุง ูโุขุฏ' },
            { icon: 'โก', name: 'ฺฏูฺ',            desc: 'ุงูุชูุงู ุจุง ุงูฺฉุช ุฎุฑุงุจ ุฏุฌุชุงู' },
            { icon: '๐', name: 'ุขุดฺฉุงุฑ ุดุฏู',     desc: 'ูพุฑุฏูโฺฉุด ุงูู ุงุฒ ฺูพ ุจู ุฑุงุณุช' },
          ],
        },
        {
          title: '๐ ุงูฺฉุชโูุง ูุชู (ถ ููุน)',
          effects: [
            { icon: 'โจ๏ธ', name: 'ุชุงูพโุฑุงุชุฑ',    desc: 'ูุชู ุญุฑู ุจู ุญุฑู ุชุงูพ ูโุดูุฏ' },
            { icon: '๐ซ', name: 'ุฏุฑุฎุดุด (Glow)',   desc: 'ูุงูู ููุฑุงู ูุฑู ุฏูุฑ ูุชู' },
            { icon: '๐', name: 'ูุฆูู',            desc: 'ุงูฺฉุช ฺุฑุงุบ ูุฆูู ุจุง ฺุดูฺฉโุฒุฏู' },
            { icon: '๐', name: 'ุชูุฎุงู',          desc: 'ููุท ุฎุทูุท ุจุฑูู ูุชู ููุงุด ุฏุงุฏู ูโุดูุฏ' },
            { icon: '๐', name: 'ุงูุญุฑุงู ุฑูฺฏ',     desc: 'ุฌุฏุง ฺฉุงูุงูโูุง RGB โ ุงูฺฉุช ฺฉูุงุณฺฉ' },
            { icon: 'โก', name: 'ฺฏูฺ ูุชู',       desc: 'ูุฑุฒุด ู ุฎุฑุงุจ ุฏุฌุชุงู ุฑู ูุชู' },
          ],
        },
        {
          title: '๐ฌ ุงูฺฉุชโูุง ุชุตูุฑ',
          effects: [
            { icon: '๐ฅ', name: 'Ken Burns',       desc: 'ุฒูู ุขุฑุงู ู ุญุฑฺฉุช ุฑู ุชุตูุฑ ุซุงุจุช' },
            { icon: '๐ญ', name: 'ูฺฏูุช',           desc: 'ุชุงุฑฺฉ ุดุฏู ุชุฏุฑุฌ ฺฉูุงุฑูโูุง ุชุตูุฑ' },
            { icon: '๐น', name: 'ุฏุงููโุฏุงุฑ',        desc: 'ุจุงูุช ููู ุขูุงููฺฏ ูุฏู' },
            { icon: '๐บ', name: 'ุฎุทูุท ุงุณฺฉู',      desc: 'ุดุจูโุณุงุฒ ูุงูุชูุฑ CRT ูุฏู' },
            { icon: '๐ฆ', name: 'ููุงุฑ ุณููุง',   desc: 'ููุงุฑูุง ูุดฺฉ ุจุงูุง ู ูพุงู' },
            { icon: '๐ณ', name: 'ูุฑุฒุด',            desc: 'ูุฑุฒุด ูุฏุงูู ุตูุญู' },
            { icon: '๐จ', name: 'ุฑูฺฉุด ุฑูฺฏ',      desc: 'ูุงู ุฑูฺฏ ุดูุงู ุฑู ุชุตูุฑ' },
          ],
        },
        {
          title: 'โจ ุณุณุชู ุฐุฑุงุช (ณ ุณุจฺฉ)',
          effects: [
            { icon: 'โญ', name: 'ุฐุฑุงุช ูพุดโูุฑุถ',  desc: 'ุฐุฑุงุช ุดูุงูุฑ ูพุฑุงฺฉูุฏู ุฏุฑ ุตูุญู' },
            { icon: 'โ๏ธ', name: 'ุจุฑู',             desc: 'ุฐุฑุงุช ุจุฑู ฺฉู ุงุฒ ุจุงูุง ูโุจุงุฑูุฏ' },
            { icon: '๐ฅ', name: 'ุขุชุด',             desc: 'ุดุนููโูุง ุขุชุด ฺฉู ุงุฒ ูพุงู ุจุงูุง ูโุขูุฏ' },
          ],
        },
        {
          title: '๐จ ููุชุฑูุง ุฑูฺฏ',
          effects: [
            { icon: 'โ๏ธ', name: 'ุฑูุดูุง',        desc: 'ุฑูุดู/ุชุงุฑฺฉ ฺฉุฑุฏู ฺฉู ุตูุญู (ฐ-ฒฐฐูช)' },
            { icon: 'โ',  name: 'ฺฉูุชุฑุงุณุช',        desc: 'ุงูุฒุงุด/ฺฉุงูุด ุชูุงูุช ุฑูฺฏโูุง' },
            { icon: '๐', name: 'ุงุดุจุงุน',           desc: 'ุดุฏุช ุฑูฺฏโูุง ุฑุง ุชูุธู ฺฉูุฏ' },
            { icon: '๐ค', name: 'ุณูพุง',            desc: 'ุฑูฺฏโุจูุฏ ฺฉูุงุณฺฉ ููููโุง ูุฏู' },
            { icon: '๐ก', name: 'ฺุฑุฎุด ุฑูฺฏ',       desc: 'ุชุบุฑ ููู ุฑูฺฏโูุง ุจุง ุฒุงูู (ฐ-ณถฐยฐ)' },
          ],
        },
      ],
    },

    tips: {
      title: 'ูฺฉุงุช ู ุชุฑููุฏูุง',
      sections: [
        {
          title: '๐ ุจูุชุฑู ุฑูุด ฺฉุงุฑ',
          tips: [
            {
              icon: '๐ก',
              title: 'ุงุจุชุฏุง ูุชูุ ุจุนุฏ ุงูฺฉุช',
              desc: 'ุงุจุชุฏุง ููู ุตุญููโูุง ุฑุง ูุงุฑุฏ ฺฉูุฏุ ุณูพุณ ุงูฺฉุชโูุง ุฑุง ุงุนูุงู ฺฉูุฏ. ุงู ุชุฑุชุจ ฺฉุงุฑ ุฑุง ุฑุงุญุชโุชุฑ ูโฺฉูุฏ.',
            },
            {
              icon: '๐',
              title: 'ุขูพููุฏ ูุงู ูุชู',
              desc: 'ูุชู ุขููฺฏ ุฑุง ุฏุฑ ูุงู .txt ุฐุฎุฑู ฺฉูุฏุ ุณูพุณ ุขูพููุฏ ฺฉูุฏ. ุงุฒ ยซุจูุฏ ุจู ุจูุฏยป ุจุฑุง ุขููฺฏโูุง ุจููุฏ ุงุณุชูุงุฏู ฺฉูุฏ.',
            },
            {
              icon: '๐พ',
              title: 'ุฐุฎุฑู ูพุฑูฺู',
              desc: 'ูุจู ุงุฒ Export ุญุชูุงู ูพุฑูฺู ุฑุง ุจุง JSON ุฐุฎุฑู ฺฉูุฏ ุชุง ุจุนุฏุงู ุจุชูุงูุฏ ุงุฏุงูู ุฏูุฏ.',
            },
            {
              icon: '๐ฅ๏ธ',
              title: 'ุชุณุช ูุจู ุงุฒ ุถุจุท',
              desc: 'ฺฉ ุจุงุฑ ุฏุฑ ุญุงูุช ุชูุงูโุตูุญู ูพุฑูฺู ุฑุง ูพุฎุด ฺฉูุฏ ุชุง ูุดฺฉูุงุช ุฑุง ูุจู ุงุฒ Export ุจุจูุฏ.',
            },
          ],
        },
        {
          title: '๐จ ุชุฑฺฉุจโูุง ุงูฺฉุช ูพุดููุงุฏ',
          tips: [
            {
              icon: '๐',
              title: 'ูุถุง ุดุจ',
              desc: 'ุฐุฑุงุช ูพุดโูุฑุถ + ูฺฏูุช + ฺฏุฑุงุฏุงูุช ยซุดุจยป + ุฏุฑุฎุดุด ูุชู. ุจุฑุง ุขููฺฏโูุง ุขุฑุงู ู ุงุญุณุงุณ.',
            },
            {
              icon: '๐ฅ',
              title: 'ุงูุฑฺ ุจุงูุง',
              desc: 'ุฐุฑุงุช ุขุชุด + ูุฑุฒุด + ฺฉูุชุฑุงุณุช ุจุงูุง + ุชุฑุงูุฒุดู ฺฏูฺ. ุจุฑุง ุขููฺฏโูุง ูพุฑุงูุฑฺ.',
            },
            {
              icon: '๐บ',
              title: 'ุณุจฺฉ ฺฉูุงุณฺฉ',
              desc: 'ุฏุงููโุฏุงุฑ + ุฎุทูุท ุงุณฺฉู + ุณูพุง + ุชุฑุงูุฒุดู ุงุณูุงุฏ. ุจุฑุง ูุถุง ููุณุชุงูฺฺฉ.',
            },
            {
              icon: '๐ญ',
              title: 'ุณููุง ุญุฑููโุง',
              desc: 'Ken Burns + ูฺฏูุช + ููุงุฑ ุณููุง + ุชุฑุงูุฒุดู ยซุจุงูุง ุขูุฏูยป. ุจุฑุง ูุฏููุง ุฑุณู.',
            },
          ],
        },
        {
          title: '๐ค ุงุณุชูุงุฏู ุงุฒ AI',
          tips: [
            {
              icon: 'โจ',
              title: 'Prompt ุฏูู ุจููุณุฏ',
              desc: 'ุณุจฺฉ ุฑุง ูุดุฎุต ฺฉูุฏ: ยซฺฉ ุตุญูู ุณููุง ุดุจุงูู ุจุง ุงุญุณุงุณ ุบูยป. ูุฑฺู ุฏููโุชุฑุ ูุชุฌู ุจูุชุฑ.',
            },
            {
              icon: '๐ง',
              title: 'ุจูููโุณุงุฒ ุตุญููโูุง',
              desc: 'ุงุฒ ุญุงูุช ยซุจูููยป AI ุงุณุชูุงุฏู ฺฉูุฏ ุชุง ุตุญููโูุง ููุฌูุฏ ุฑุง ุฑูุงูโุชุฑ ู ุญุฑููโุงโุชุฑ ฺฉูุฏ.',
            },
            {
              icon: '๐',
              title: 'ุชุงุฑุฎฺู promptโูุง',
              desc: 'ฑฐ prompt ุขุฎุฑ ุฐุฎุฑู ูโุดูุฏ. ุฑู ูุฑ ุขุชู ฺฉูฺฉ ฺฉูุฏ ุชุง ุฏูุจุงุฑู ุงุณุชูุงุฏู ฺฉูุฏ.',
            },
          ],
        },
        {
          title: 'โก ุชุฑููุฏูุง Timeline',
          tips: [
            {
              icon: '๐',
              title: 'ุฒูู ุฎุท ุฒูุงู',
              desc: 'ุจุง ุฏฺฉููโูุง + ู โ ุฒูู Timeline ุฑุง ุจู ตฐูช ุชุง ฒฐฐูช ุชุบุฑ ุฏูุฏ ุชุง ุฏูุช ุจุดุชุฑ ุฏุงุดุชู ุจุงุดุฏ.',
            },
            {
              icon: 'โฑ๏ธ',
              title: 'ูุฑุงุด ุณุฑุน ูุฏุช',
              desc: 'ุฑู badge ุฒูุงู (โฑ 5s) ุฏุฑ Timeline ฺฉูฺฉ ฺฉูุฏ ุชุง slider ูุฏุชโุฒูุงู ุธุงูุฑ ุดูุฏ.',
            },
            {
              icon: '๐น',
              title: 'ุถุจุท ุญุฑููโุง',
              desc: 'ุจุฑุง ุจูุชุฑู ฺฉูุชุ ูุจู ุงุฒ ุถุจุท ูุฑูุฑฺฏุฑ ุฑุง ุชูุงูโุตูุญู ฺฉูุฏ ู ฺฉูุช Full HD ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ.',
            },
          ],
        },
      ],
    },
  };

  if (!isOpen) return null;

  return (
    <AnimatePresence>
      <motion.div
        className="tutorial-overlay"
        initial={{ opacity: 0 }}
        animate={{ opacity: 1 }}
        exit={{ opacity: 0 }}
        onClick={onClose}
      >
        <motion.div
          className="tutorial-modal"
          initial={{ opacity: 0, scale: 0.93, y: 24 }}
          animate={{ opacity: 1, scale: 1, y: 0 }}
          exit={{ opacity: 0, scale: 0.93, y: 24 }}
          transition={{ type: 'spring', stiffness: 360, damping: 30 }}
          onClick={(e) => e.stopPropagation()}
        >
          {/* Header */}
          <div className="tutorial-header">
            <div className="tutorial-header-inner">
              <span className="tutorial-header-logo">๐ฌ</span>
              <div>
                <h2>ุฑุงูููุง ฺฉุงูู ูุฑุงุดฺฏุฑ</h2>
                <p className="tutorial-header-sub">ูุณุฎู ฒ.ฐ โ ููู ูุงุจูุชโูุง</p>
              </div>
            </div>
            <button className="tutorial-close" onClick={onClose} aria-label="ุจุณุชู">
              <svg width="22" height="22" fill="none" viewBox="0 0 24 24" stroke="currentColor" strokeWidth="2.5">
                <path d="M6 18L18 6M6 6l12 12"/>
              </svg>
            </button>
          </div>

          {/* Tabs */}
          <div className="tutorial-tabs">
            {tabs.map(tab => (
              <button
                key={tab.id}
                className={`tutorial-tab ${currentTab === tab.id ? 'active' : ''}`}
                onClick={() => setCurrentTab(tab.id)}
              >
                <span className="tab-icon">{tab.icon}</span>
                <span className="tab-label">{tab.label}</span>
              </button>
            ))}
          </div>

          {/* Content */}
          <AnimatePresence mode="wait">
            <motion.div
              key={currentTab}
              className="tutorial-content"
              initial={{ opacity: 0, x: 12 }}
              animate={{ opacity: 1, x: 0 }}
              exit={{ opacity: 0, x: -12 }}
              transition={{ duration: 0.18 }}
            >
              <h3 className="content-title">{content[currentTab].title}</h3>

              {/* โโ ูุจุงู โโ */}
              {currentTab === 'basics' && content.basics.sections.map((section, idx) => (
                <div key={idx} className="tutorial-section">
                  <h4>{section.title}</h4>
                  <ol className="steps-list">
                    {section.steps.map((step, i) => (
                      <li key={i}>{step}</li>
                    ))}
                  </ol>
                </div>
              ))}

              {/* โโ ฺฉูุฏูุง โโ */}
              {currentTab === 'shortcuts' && content.shortcuts.sections.map((section, idx) => (
                <div key={idx} className="tutorial-section">
                  <h4>{section.title}</h4>
                  <div className="shortcuts-grid">
                    {section.shortcuts.map((shortcut, i) => (
                      <div key={i} className="shortcut-row">
                        <kbd className="key-badge">{shortcut.key}</kbd>
                        <span className="key-desc">{shortcut.desc}</span>
                      </div>
                    ))}
                  </div>
                </div>
              ))}

              {/* โโ ุงูฺฉุชโูุง โโ */}
              {currentTab === 'effects' && content.effects.sections.map((section, idx) => (
                <div key={idx} className="tutorial-section">
                  <h4>{section.title}</h4>
                  <div className="effects-grid">
                    {section.effects.map((effect, i) => (
                      <div key={i} className="effect-card">
                        <span className="effect-icon">{effect.icon}</span>
                        <div className="effect-info">
                          <strong>{effect.name}</strong>
                          <p>{effect.desc}</p>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              ))}

              {/* โโ ูฺฉุงุช โโ */}
              {currentTab === 'tips' && content.tips.sections.map((section, idx) => (
                <div key={idx} className="tutorial-section">
                  <h4>{section.title}</h4>
                  <div className="tips-grid">
                    {section.tips.map((tip, i) => (
                      <div key={i} className="tip-card">
                        <span className="tip-icon">{tip.icon}</span>
                        <div className="tip-info">
                          <strong>{tip.title}</strong>
                          <p>{tip.desc}</p>
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              ))}
            </motion.div>
          </AnimatePresence>

          {/* Footer */}
          <div className="tutorial-footer">
            <p>๐ก ูฺฉุชู: ุจุง ูุดุงุฑ ุฏุงุฏู ฺฉูุฏ <kbd>?</kbd> ูโุชูุงูุฏ ุงู ุฑุงูููุง ุฑุง ุจุงุฒ ฺฉูุฏ</p>
            <button className="tutorial-footer-btn" onClick={() => setCurrentTab('shortcuts')}>
              โจ๏ธ ูุดุงูุฏู ููู ฺฉูุฏูุง
            </button>
          </div>
        </motion.div>
      </motion.div>
    </AnimatePresence>
  );
};

export default TutorialModal;